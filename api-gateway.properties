# ===============================
# Application Identity
# ===============================
spring.application.name=api-gateway

# ===============================
# Server Configuration
# ===============================
server.port=8080

# ===============================
# AUTH SERVICE ROUTES
# ===============================
spring.cloud.gateway.routes[0].id=auth-service
spring.cloud.gateway.routes[0].uri=http://auth-service:8081
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/auth/**

spring.cloud.gateway.routes[1].id=auth-users
spring.cloud.gateway.routes[1].uri=http://auth-service:8081
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/users/**

spring.cloud.gateway.routes[2].id=auth-admin
spring.cloud.gateway.routes[2].uri=http://auth-service:8081
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/admin/**

spring.cloud.gateway.routes[3].id=auth-technicians
spring.cloud.gateway.routes[3].uri=http://auth-service:8081
spring.cloud.gateway.routes[3].predicates[0]=Path=/api/technician/**

spring.cloud.gateway.routes[4].id=auth-service-manager
spring.cloud.gateway.routes[4].uri=http://auth-service:8081
spring.cloud.gateway.routes[4].predicates[0]=Path=/api/service-manager/**

# ===============================
# CATALOG SERVICE ROUTES
# ===============================
spring.cloud.gateway.routes[5].id=catalog-service
spring.cloud.gateway.routes[5].uri=http://service-catalog:8082
spring.cloud.gateway.routes[5].predicates[0]=Path=/api/services/**

# ===============================
# BOOKING SERVICE ROUTES
# ===============================
spring.cloud.gateway.routes[6].id=booking-service
spring.cloud.gateway.routes[6].uri=http://booking-service:8083
spring.cloud.gateway.routes[6].predicates[0]=Path=/api/bookings/**

# ===============================
# BILLING SERVICE ROUTES
# ===============================
spring.cloud.gateway.routes[7].id=billing-service
spring.cloud.gateway.routes[7].uri=http://billing-service:8084
spring.cloud.gateway.routes[7].predicates[0]=Path=/api/billing/**

# ===============================
# NOTIFICATION SERVICE ROUTES
# ===============================
spring.cloud.gateway.routes[8].id=notification-service
spring.cloud.gateway.routes[8].uri=http://notification-service:8085
spring.cloud.gateway.routes[8].predicates[0]=Path=/api/notifications/**

# ===============================
# Actuator Configuration
# ===============================
management.endpoints.web.exposure.include=health,info,gateway
management.endpoint.health.show-details=always
management.endpoint.gateway.enabled=true

# ===============================
# Eureka Configuration
# ===============================
eureka.client.service-url.defaultZone=${EUREKA_URL:http://service-registry:8761/eureka/}
eureka.client.register-with-eureka=true
eureka.client.fetch-registry=true
eureka.instance.prefer-ip-address=true
eureka.instance.instance-id=${spring.application.name}:${server.port}

# ===============================
# Logging Configuration
# ===============================
logging.level.root=INFO
logging.level.com.app.configserver=DEBUG
logging.level.org.springframework.cloud.gateway=INFO

logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n
